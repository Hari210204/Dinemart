{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\merneats-main\\\\merneats-main\\\\merneats-main\\\\canteen_mernstack-main\\\\canteen_mernstack\\\\frontend\\\\src\\\\components\\\\Vendors\\\\Orders.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport { alpha } from '@mui/material/styles';\nimport Navbar from \"./Navbar\";\nimport { Button } from \"@mui/material\";\nimport { Grid } from \"@mui/material\";\nimport Rating from '@mui/material/Rating';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Chip from '@mui/material/Chip';\nimport emailjs from 'emailjs-com';\nimport { Checkbox } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  const [count, setCount] = useState(0);\n  const navigate = useNavigate();\n  const [details, setDetails] = useState([]);\n  const [menu, setMenu] = useState([]);\n\n  const _id = localStorage.getItem('vendor_id');\n\n  const idi = {\n    id: _id\n  };\n  useEffect(() => {\n    axios.post(\"http://localhost:4000/vendor/profile\", idi).then(response => {\n      setDetails(response.data);\n    }).catch(function (error) {});\n  }, []);\n  useEffect(() => {\n    axios.post(\"http://localhost:4000/order/shop\", details).then(response => {\n      setMenu(response.data);\n    }).catch(function (error) {});\n  });\n  useEffect(() => {\n    axios.post(\"http://localhost:4000/order/count\", details).then(response => {\n      setCount(response.data.length);\n    }).catch(function (error) {});\n  });\n\n  const onSubmit = (event, item) => {\n    event.preventDefault();\n\n    if (item.status == \"PLACED\") {\n      if (count < 10) {\n        item.status = \"ACCEPTED\";\n      } else {\n        alert(\"COOKING LIMIT EXCEEDING!\");\n        return;\n      }\n    } else if (item.status == \"ACCEPTED\") item.status = \"COOKING\";else if (item.status == \"COOKING\") {\n      item.status = \"READY FOR PICKUP\";\n    } else if (item.status == \"READY FOR PICKUP\") {\n      const idi = {\n        id: item.id\n      };\n      item.status = \"COMPLETED\";\n      axios.post(\"http://localhost:4000/menu/item\", idi).then(response => {\n        // alert(response.data.sold)\n        var c = Number(response.data.sold);\n        c = c + 1;\n        const a = {\n          id: item.id,\n          sold: c.toString(10)\n        }; // alert(a.sold);\n        // alert(typeof (a.sold));\n\n        axios.post(\"http://localhost:4000/menu/editi\", a).then(response => {});\n      });\n    }\n\n    axios.post(\"http://localhost:4000/order/edit\", item).then(response => {}).catch(err => {\n      alert(err);\n    });\n  };\n\n  const onSubmiti = (event, item) => {\n    event.preventDefault();\n    item.status = \"REJECTED\";\n    axios.post(\"http://localhost:4000/order/edit\", item).then(response => {}).catch(err => {\n      alert(err);\n    });\n  };\n\n  const song = item => {\n    if (item.status == \"PLACED\" || item.status == \"COOKING\" || item.status == \"ACCEPTED\") return /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: e => onSubmit(e, item),\n      children: \"Next Stage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }, this);\n  };\n\n  const sing = item => {\n    if (item.status == \"PLACED\") return /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"error\",\n      onClick: e => onSubmiti(e, item),\n      children: \"Reject\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }, this);\n  }; // alert(menu[0].item)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), menu.map((item, ind) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: {\n            xs: 'column',\n            md: 'row'\n          },\n          alignItems: 'center',\n          bgcolor: 'background.paper',\n          overflow: 'hidden',\n          borderRadius: '20px',\n          boxShadow: 20,\n          fontWeight: 'bold'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          component: \"img\",\n          sx: {\n            height: 233,\n            width: 350,\n            maxHeight: {\n              xs: 233,\n              md: 198\n            },\n            maxWidth: {\n              xs: 350,\n              md: 300\n            }\n          },\n          alt: \"The house from the offer.\",\n          src: \"https://hips.hearstapps.com/hmg-prod/images/delish-crack-noodles-wide-2-1525355094.jpg?crop=1.00xw%3A1.00xh%3B0%2C0&resize=480%3A270\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: {\n              xs: 'center',\n              md: 'flex-start'\n            },\n            m: 3,\n            minWidth: {\n              md: 350\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: {\n              fontSize: 20,\n              mt: 1,\n              color: 'primary.main'\n            },\n            children: [\"Item: \", item.item]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: {\n              fontSize: 15\n            },\n            children: [\"Time Placed: \", item.time]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: {\n              fontSize: 15\n            },\n            children: [\"Date Placed: \", item.date]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1.5,\n              p: 0.5,\n              backgroundColor: theme => alpha(theme.palette.primary.main, 0.1),\n              borderRadius: '5px',\n              color: 'primary.main',\n              fontWeight: 'medium',\n              display: 'flex',\n              fontSize: 12,\n              alignItems: 'center',\n              '& svg': {\n                fontSize: 21,\n                mr: 0.5\n              }\n            },\n            children: [\"QUANTITY: \", item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1.5,\n              p: 0.5,\n              backgroundColor: theme => alpha(theme.palette.primary.main, 0.1),\n              borderRadius: '5px',\n              color: 'primary.main',\n              fontWeight: 'medium',\n              display: 'flex',\n              fontSize: 12,\n              alignItems: 'center',\n              '& svg': {\n                fontSize: 21,\n                mr: 0.5\n              }\n            },\n            children: [\"VEG/NON-VEG: \", item.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 29\n          }, this), item.addon.map((element, ind) => /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1.5,\n              p: 0.5,\n              backgroundColor: theme => alpha(theme.palette.primary.main, 0.1),\n              borderRadius: '5px',\n              color: 'primary.main',\n              fontWeight: 'medium',\n              display: 'flex',\n              fontSize: 12,\n              alignItems: 'center',\n              '& svg': {\n                fontSize: 21,\n                mr: 0.5\n              }\n            },\n            children: [\"ADDONS: \", element]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: {\n              xs: 'center',\n              md: 'flex-end'\n            },\n            m: 3,\n            minWidth: {\n              md: 350\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: item.status,\n            color: \"error\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: song(item)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: {\n              xs: 'center',\n              md: 'flex-center'\n            },\n            m: 3,\n            minWidth: {\n              md: 200\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: sing(item)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"AVCDSNI/tAnVy2dff/nIEY6fZYk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/Downloads/merneats-main/merneats-main/merneats-main/canteen_mernstack-main/canteen_mernstack/frontend/src/components/Vendors/Orders.js"],"names":["useState","useEffect","useNavigate","axios","React","Box","alpha","Navbar","Button","Grid","Rating","DeleteIcon","EditIcon","Chip","emailjs","Checkbox","Home","props","count","setCount","navigate","details","setDetails","menu","setMenu","_id","localStorage","getItem","idi","id","post","then","response","data","catch","error","length","onSubmit","event","item","preventDefault","status","alert","c","Number","sold","a","toString","err","onSubmiti","song","e","sing","map","ind","display","flexDirection","xs","md","alignItems","bgcolor","overflow","borderRadius","boxShadow","fontWeight","height","width","maxHeight","maxWidth","m","minWidth","fontSize","mt","color","time","date","p","backgroundColor","theme","palette","primary","main","mr","quantity","type","addon","element"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport { alpha } from '@mui/material/styles';\nimport Navbar from \"./Navbar\";\nimport { Button } from \"@mui/material\";\nimport { Grid } from \"@mui/material\";\nimport Rating from '@mui/material/Rating';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Chip from '@mui/material/Chip';\nimport emailjs from 'emailjs-com';\nimport { Checkbox } from '@mui/material';\n\nconst Home = (props) => {\n\n    const [count, setCount] = useState(0);\n    const navigate = useNavigate();\n    const [details, setDetails] = useState([]);\n    const [menu, setMenu] = useState([]);\n\n    const _id = localStorage.getItem('vendor_id');\n    const idi = {\n        id: _id\n    }\n    useEffect(() => {\n        axios\n            .post(\"http://localhost:4000/vendor/profile\", idi)\n            .then((response) => {\n                setDetails(response.data);\n            })\n            .catch(function (error) {\n            });\n    }, []);\n\n    useEffect(() => {\n        axios\n            .post(\"http://localhost:4000/order/shop\", details)\n            .then((response) => {\n                setMenu(response.data);\n            })\n            .catch(function (error) {\n            });\n    });\n\n    useEffect(() => {\n        axios\n            .post(\"http://localhost:4000/order/count\", details)\n            .then((response) => {\n                setCount(response.data.length)\n            })\n            .catch(function (error) {\n            });\n    });\n\n    const onSubmit = (event, item) => {\n        event.preventDefault();\n\n        if (item.status == \"PLACED\") {\n            if (count < 10) {\n                item.status = \"ACCEPTED\"\n            }\n            else {\n                alert(\"COOKING LIMIT EXCEEDING!\")\n                return;\n            }\n        }\n        else if (item.status == \"ACCEPTED\")\n            item.status = \"COOKING\"\n        else if (item.status == \"COOKING\") {\n            item.status = \"READY FOR PICKUP\"\n        }\n        else if (item.status == \"READY FOR PICKUP\") {\n            const idi = {\n                id: item.id\n            }\n\n            item.status = \"COMPLETED\"\n            axios\n                .post(\"http://localhost:4000/menu/item\", idi)\n                .then((response) => {\n                    // alert(response.data.sold)\n                    var c = Number(response.data.sold);\n                    c = c + 1;\n                    const a = {\n                        id: item.id,\n                        sold: c.toString(10)\n                    }\n                    // alert(a.sold);\n                    // alert(typeof (a.sold));\n                    axios\n                        .post(\"http://localhost:4000/menu/editi\", a)\n                        .then((response) => {\n                        });\n                });\n        }\n\n        axios\n            .post(\"http://localhost:4000/order/edit\", item)\n            .then((response) => {\n            })\n            .catch((err) => {\n                alert(err)\n            });\n\n    };\n\n    const onSubmiti = (event, item) => {\n        event.preventDefault();\n\n        item.status = \"REJECTED\"\n\n        axios\n            .post(\"http://localhost:4000/order/edit\", item)\n            .then((response) => {\n            })\n            .catch((err) => {\n                alert(err)\n            });\n\n    };\n    const song = (item) => {\n        if (item.status == \"PLACED\" || item.status == \"COOKING\" || item.status == \"ACCEPTED\")\n            return (\n                <Button variant=\"contained\" onClick={(e) => onSubmit(e, item)}>\n                    Next Stage\n                </Button>\n            )\n    }\n\n    const sing = (item) => {\n        if (item.status == \"PLACED\")\n            return (\n                <Button variant=\"contained\" color=\"error\" onClick={(e) => onSubmiti(e, item)}>\n                    Reject\n                </Button>\n            )\n    }\n\n    // alert(menu[0].item)\n    return (\n        <div>\n            <Navbar></Navbar>\n            <br></br>\n            <br></br>\n            <br></br>\n            {menu.map((item, ind) => (\n                <div>\n                    <br></br>\n                    <br></br>\n                    <Box\n                        sx={{\n                            display: 'flex',\n                            flexDirection: { xs: 'column', md: 'row' },\n                            alignItems: 'center',\n                            bgcolor: 'background.paper',\n                            overflow: 'hidden',\n                            borderRadius: '20px',\n                            boxShadow: 20,\n                            fontWeight: 'bold',\n                        }}\n                    >\n                        <Box\n                            component=\"img\"\n                            sx={{\n                                height: 233,\n                                width: 350,\n                                maxHeight: { xs: 233, md: 198 },\n                                maxWidth: { xs: 350, md: 300 },\n                            }}\n                            alt=\"The house from the offer.\"\n                            src=\"https://hips.hearstapps.com/hmg-prod/images/delish-crack-noodles-wide-2-1525355094.jpg?crop=1.00xw%3A1.00xh%3B0%2C0&resize=480%3A270\"\n                        />\n                        <Box\n                            sx={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: { xs: 'center', md: 'flex-start' },\n                                m: 3,\n                                minWidth: { md: 350 },\n                            }}\n                        >\n                            <Box component=\"span\" sx={{ fontSize: 20, mt: 1, color: 'primary.main' }}>\n                                Item: {item.item}\n                            </Box>\n                            {/* <Box component=\"span\" sx={{ fontSize: 20, mt: 1, color: 'primary.main' }}>\n                                Customer: {item.name}\n                            </Box> */}\n                            <Box component=\"span\" sx={{ fontSize: 15 }}>\n                                Time Placed: {item.time}\n                            </Box>\n                            <Box component=\"span\" sx={{ fontSize: 15 }}>\n                                Date Placed: {item.date}\n                            </Box>\n                            <Box\n                                sx={{\n                                    mt: 1.5,\n                                    p: 0.5,\n                                    backgroundColor: (theme) => alpha(theme.palette.primary.main, 0.1),\n                                    borderRadius: '5px',\n                                    color: 'primary.main',\n                                    fontWeight: 'medium',\n                                    display: 'flex',\n                                    fontSize: 12,\n                                    alignItems: 'center',\n                                    '& svg': {\n                                        fontSize: 21,\n                                        mr: 0.5,\n                                    },\n                                }}\n                            >\n                                QUANTITY: {item.quantity}\n                            </Box>\n\n                            <Box\n                                sx={{\n                                    mt: 1.5,\n                                    p: 0.5,\n                                    backgroundColor: (theme) => alpha(theme.palette.primary.main, 0.1),\n                                    borderRadius: '5px',\n                                    color: 'primary.main',\n                                    fontWeight: 'medium',\n                                    display: 'flex',\n                                    fontSize: 12,\n                                    alignItems: 'center',\n                                    '& svg': {\n                                        fontSize: 21,\n                                        mr: 0.5,\n                                    },\n                                }}\n                            >\n                                VEG/NON-VEG: {item.type}\n                            </Box>\n                            {item.addon.map((element, ind) => (\n                                <Box\n                                    sx={{\n                                        mt: 1.5,\n                                        p: 0.5,\n                                        backgroundColor: (theme) => alpha(theme.palette.primary.main, 0.1),\n                                        borderRadius: '5px',\n                                        color: 'primary.main',\n                                        fontWeight: 'medium',\n                                        display: 'flex',\n                                        fontSize: 12,\n                                        alignItems: 'center',\n                                        '& svg': {\n                                            fontSize: 21,\n                                            mr: 0.5,\n                                        },\n                                    }}\n                                >\n                                    ADDONS: {element}\n                                </Box>\n                            ))}\n                        </Box>\n                        <Box sx={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: { xs: 'center', md: 'flex-end' },\n                            m: 3,\n                            minWidth: { md: 350 },\n                        }}>\n                            <Chip label={item.status} color='error' variant='outlined' />\n                            <br></br>\n                            <Grid item xs={12}>\n                                {song(item)}\n\n                            </Grid>\n                        </Box>\n                        <Box sx={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: { xs: 'center', md: 'flex-center' },\n                            m: 3,\n                            minWidth: { md: 200 },\n                        }}>\n                            <Grid item xs={12}>\n                                {sing(item)}\n\n                            </Grid>\n                        </Box>\n                    </Box>\n\n                </div>\n            ))\n            }\n            <br></br>\n            <br></br>\n            <br></br>\n        </div >\n\n    );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}